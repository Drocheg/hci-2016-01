<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
        <title>Resumen de Compra</title>

        <!-- CSS  -->
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
        <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
    </head>
    <body>
        <header>
            <nav class="light-blue lighten-1" role="navigation">
                <div class="nav-wrapper container">
                    <a id="logo-container" href="index.html" class="brand-logo left">Logo</a>
                    <span style="position:absolute; margin-left:45%;">Pesos Argentinos $<span class="material-icons">arrow_drop_down_circle</span></span>
                </div>
            </nav>
            <h1 class="center">Resumen de Compra</h1>
        </header>

        <div class="divider"></div> <!-- Sacar este divisor, está sólo para indicar donde termina header y donde empieza main -->

        <main>       
            <div class="row">
                <div class="col s10 offset-s1">
                    <div class="card-panel blue lighten-4" id="outbound">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col s10 offset-s1">
                    <div class="card-panel blue lighten-1" id="inbound">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col s10 offset-s1">
                    <div class="card-panel purple lighten-3" id="payment">
                    </div>
                </div>

                <div class="row"> 
                    <div class="col s10 offset-s1"> 
                        <div class="card-panel purple lighten-4" id="contact"> 
                        </div> 
                    </div> 
                </div> 
            </div>
            <div class="row" id="summaryActionButtons">
                <div class="col s10 offset-s1 center">
                    <a class="waves-effect waves-light btn" href="flights-5.html">Modificar Ida</a>
                    <a class="waves-effect waves-light btn" href="flights-3.html">Modificar Vuelta</a>
                    <a class="waves-effect waves-light btn">Modificar Pasajeros</a>
                    <a class="waves-effect waves-light btn" href="payment-information.html">Modificar Pago</a>
                    <a class="waves-effect waves-light btn">Modificar Contacto</a>
                </div>
            </div>
            <div class="row">
                <div class="col s10 offset-s1 center">
                    <a class="btn-large waves-effect waves-light red" href="order-confirmation.html">
                        Confirmar
                        <i class="material-icons right">send</i>
                    </a>
                </div>
            </div>
        </main>

        <footer class="page-footer blue">
            <div class="footer-copyright">
                <div class="container">
                    &COPY; 2016, ITBA. Hecho con <a class="orange-text text-lighten-3" href="http://materializecss.com" target="_blank">Materialize</a>.
                </div>
            </div>
        </footer>

        <!--  Scripts-->
        <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <script src="js/materialize.js"></script>
        <script src="js/init.js"></script>
        <script type="text/javascript">
            $(function () {
                //TO GET THE OBJECT
                var session = JSON.parse(sessionStorage.sessionData);   //will return UNDEFINED if it doesn't exist yet
//                var session = {payment: {
//                        //acá hay que poner # de tarjeta, vencimiento, etc. etc. etc.
//                        // Puse cosas, soy Flacu, esta bien?
//                        cardNumber: "1111 - 2222 - 3333 - 4444",
//                        cardExpiryMonth: 02,
//                        cardholderName: "Facundo Gonzalez F",
//                        cvv: 132,
//                        dni: 38995760,
//                        email: "facundogonzalezf@gmail.com"
//                    }};
                $("#payment").html("\
                            <h4>Información de pago</h4> \
                            <p>Número de tarjeta: " + session.payment.cardNumber + "</p> \
                            <p>Nombre de titular: "+ session.payment.cardholderName +"</p> \
                            <br> \
                            <p><b>Gran total: $27.998</b></p> \
                   ");
                $("#contact").html("\
                            <h4>Información de contacto</h4> \
                            <p>Email: " + session.payment.email +"</p> \
                    ");
                $("#inbound").html("\
                        <h4>Vuelta</h4> \
                        <p>Vuelo: Delta #101</p> \
                        <p>Fecha: " + session.search.departDate +"</p> \
                        <p>Horario de salida: 09:15</p> \
                        <p>Horario de llegada: 16:30(-1)</p> \
                        <p>Escalas: 3</p> \
                        <p>Duración: 4:30</p> \
                        <p>Precio por adulto: $10.000</p> \
                        <p>Cantidad de pasajeros: " +session.search.numAdults+" adultos</p> \
                        <p>Subtotal: $10.000</p> \
                        <p>Cargos e impuestos: $3.999</p> \
                        <br> \
                        <p><b>Total: $13.999</b></p> \
                        ");
                $("#outbound").html("<h4>IDA</h4> \
                                <p>Vuelo: Delta #110</p> \
                                <p>Fecha: " + session.search.returnDate + "</p> \
                                <p>Horario de salida: 21:15</p> \
                                <p>Horario de llegada: 5:30(+1) 27/12/2016</p> \
                                <p>Escalas: 3</p> \
                                <p>Duración: 4:30</p> \
                                <p>Precio por adulto: $20.000</p> \
                                <p>Cantidad de pasajeros: " +session.search.numAdults+" adultos</p> \
                                <p>Subtotal: $10.000</p> \
                                <p>Cargos e impuestos: $3.999</p> \
                                <br> \
                                <p><b>Total: $13.999</b></p>\
                    ");
                sessionStorage.sessionData = JSON.stringify(session);
            });
        </script>
    </body>
</html>
